.logo.vanilla:hover {
  filter: drop-shadow(0 0 2em #ffe21c);
}

/*
  Unified color system using CSS custom properties.
  We avoid relying on OS / prefers-color-scheme and instead define an app light theme
  plus an opt-in dark theme via an attribute on <html data-theme="dark"> if desired.
  You can toggle at runtime by setting document.documentElement.dataset.theme = 'dark';
*/
:root {
  /* Typography */
  font-family: Inter, Avenir, Helvetica, Arial, sans-serif;
  font-size: 16px;
  line-height: 24px;
  font-weight: 400;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-text-size-adjust: 100%;

  /* Palette (Light) */
  --color-bg: #f5f7fa;
  /* main app background */
  --color-bg-alt: #ffffff;
  /* panels / surfaces */
  --color-bg-subtle: #f0f2f5;
  /* subtle inset backgrounds */
  --color-bg-accent: #e3ecf8;
  /* selected / hover backgrounds */
  --color-border: #b9c3ce;
  --color-border-strong: #88939f;
  --color-text: #0f141a;
  --color-text-soft: #4c5966;
  --color-text-faint: #6d7a86;
  --color-focus-ring: #396cd8;
  --color-link: #396cd8;
  --color-link-hover: #274e9d;
  --color-brand-mtorrent: #396cd8;
  --color-brand-mtorrent-accent: #5a9bff;
  --color-shadow-rgb: 0 0 0;

  /* Tabs */
  --color-tab-bg: #d9e0e8;
  --color-tab-bg-active: #ffffff;
  --color-tab-border: var(--color-border);

  /* Inputs */
  --color-input-bg: #ffffff;
  --color-input-bg-alt: #f0f2f5;
  --color-input-text: var(--color-text);
  --color-input-border: var(--color-border);
  --color-input-border-hover: #97a7b8;
  --color-input-border-active: var(--color-focus-ring);

  /* Buttons */
  --color-btn-bg: #ffffff;
  --color-btn-bg-hover: #eef2f7;
  --color-btn-bg-active: #e2e8f0;
  --color-btn-text: var(--color-text);
  --color-btn-border: var(--color-border);
  --color-btn-border-hover: var(--color-input-border-hover);

  /* Logs / Code */
  --color-log-bg: #f0f2f5;
  --color-log-border: #3a4652;
  --color-log-text: #111111;

  /* Toasts */
  --color-toast-bg: #ffecec;
  --color-toast-border: #e5b4b4;
  --color-toast-text: #7a1d1d;
  --color-toast-success-bg: #e8f9ee;
  --color-toast-success-border: #b7e2c5;
  --color-toast-success-text: #1a5b33;
  --color-toast-info-bg: #eef5ff;
  --color-toast-info-border: #b6d2f2;
  --color-toast-info-text: #1b4c7a;
  --color-toast-error-bg: #ffecec;
  --color-toast-error-border: #e5b4b4;
  --color-toast-error-text: #7a1d1d;

  /* Scrollbar */
  --color-scrollbar-track: #d9e0e8;
  --color-scrollbar-thumb: #b1bcc9;
  --color-scrollbar-thumb-hover: #9aa7b5;

  color: var(--color-text);
  background-color: var(--color-bg);
}

html,
body {
  margin: 0;
  padding: 0;
  height: 100%;
}

body {
  overflow: hidden;
  /* remove outer window scrollbar */
}

/* Dark theme override (explicit, not automatic) */
:root[data-theme="dark"] {
  --color-bg: #1e2429;
  --color-bg-alt: #242c33;
  --color-bg-subtle: #2a333b;
  --color-bg-accent: #31404d;
  --color-border: #3d4a55;
  --color-border-strong: #586774;
  --color-text: #f4f7fa;
  --color-text-soft: #c6d2dc;
  --color-text-faint: #9aa9b6;
  --color-focus-ring: #5a9bff;
  --color-link: #5a9bff;
  --color-link-hover: #81b6ff;
  --color-brand-mtorrent: #5a9bff;
  --color-brand-mtorrent-accent: #81b6ff;
  --color-tab-bg: #2a333b;
  --color-tab-bg-active: #303b44;
  --color-tab-border: var(--color-border);
  --color-input-bg: #303b44;
  --color-input-bg-alt: #252d34;
  --color-input-text: var(--color-text);
  --color-input-border: #475564;
  --color-input-border-hover: #607283;
  --color-input-border-active: var(--color-focus-ring);
  --color-btn-bg: #303b44;
  --color-btn-bg-hover: #37434d;
  --color-btn-bg-active: #2b343c;
  --color-btn-text: var(--color-text);
  --color-btn-border: #475564;
  --color-btn-border-hover: #607283;
  --color-log-bg: #252d34;
  --color-log-border: #55626e;
  --color-log-text: #f4f7fa;
  --color-toast-bg: #3a2626;
  --color-toast-border: #5a3b3b;
  --color-toast-text: #f8d4d4;
  --color-toast-success-bg: #153a27;
  --color-toast-success-border: #2d6645;
  --color-toast-success-text: #b9f1cf;
  --color-toast-info-bg: #142b3d;
  --color-toast-info-border: #2c5572;
  --color-toast-info-text: #c3e4ff;
  --color-toast-error-bg: #3a2626;
  --color-toast-error-border: #5a3b3b;
  --color-toast-error-text: #f8d4d4;
  --color-scrollbar-track: #2a333b;
  --color-scrollbar-thumb: #465463;
  --color-scrollbar-thumb-hover: #5b6a78;
}

.container {
  margin: 0;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  height: 100vh;
  box-sizing: border-box;
}

.app-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  justify-content: center;
  /* center header contents horizontally */
  text-align: center;
}

.app-header h1 {
  margin: 0;
  font-size: 1.4rem;
}

.brand-row {
  display: flex;
  gap: 0.5rem;
}

.tabs {
  display: flex;
  align-items: stretch;
  gap: 0.5rem;
  margin-top: 0.75rem;
}

.tabs-scroll {
  display: flex;
  overflow-x: auto;
  flex: 1 1 auto;
  gap: 0.25rem;
  scrollbar-width: thin;
}

.tabs-scroll::-webkit-scrollbar {
  height: 6px;
}

.tab-btn {
  position: relative;
  background: var(--color-tab-bg);
  border: 1px solid var(--color-tab-border);
  padding: 0.35rem 0.75rem;
  border-radius: 4px 4px 0 0;
  cursor: pointer;
  font-size: 0.85rem;
  display: flex;
  align-items: center;
  gap: 0.4rem;
  color: var(--color-text-soft);
}

.tab-btn.active {
  background: var(--color-tab-bg-active);
  border-bottom-color: var(--color-tab-bg-active);
  font-weight: 600;
  color: var(--color-text);
}

.tab-btn .close {
  font-weight: 700;
  cursor: pointer;
  opacity: 0.6;
}

.tab-btn .close:hover {
  opacity: 1;
}

.tabs #add-tab {
  flex: 0 0 auto;
  padding: 0 0.65rem;
  border-radius: 4px;
  font-size: 1.1rem;
  line-height: 1;
}

.tabs-container {
  flex: 1 1 auto;
  position: relative;
  border: 1px solid var(--color-border);
  background: var(--color-bg-alt);
  border-radius: 0 4px 4px 4px;
  display: flex;
  flex-direction: column;
  padding: 0;
  margin: 0;
  color: var(--color-text);
  overflow: hidden;
  /* contain inner scroll */
}

.tab-panel {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  padding: 0.75rem;
  gap: 0.75rem;
  overflow: auto;
  /* internal scrolling instead of body */
}

.tab-panel.hidden {
  display: none;
}

.tab-panel form {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.tab-panel form .uri-row {
  display: flex;
  gap: 0.5rem;
  align-items: stretch;
}

.tab-panel form .uri-row input {
  flex: 1 1 auto;
}

.tab-panel form .actions-row {
  display: flex;
  justify-content: center;
}

.tab-panel form .actions-row .start-btn {
  min-width: 11rem;
}

.tab-panel form.disabled {
  opacity: 0.55;
  filter: grayscale(25%);
  pointer-events: none;
  /* prevent clicks */
}

.tab-panel .title {
  margin: 0;
  font-weight: 500;
  font-size: 0.95rem;
}

.tab-panel .log-wrapper {
  margin-top: 0;
  flex: 1 1 auto;
}

.tab-panel textarea {
  width: 100%;
  height: 100%;
}

.container h1,
.container p,
.container form,
.row {
  text-align: center;
}

.log-wrapper {
  flex: 1 1 auto;
  display: flex;
  margin-top: 1rem;
  min-height: 0;
  /* allows child flex item to shrink properly */
}

#output-box,
.tab-panel textarea {
  flex: 1 1 auto;
  width: 100%;
  background: var(--color-log-bg);
  color: var(--color-log-text);
  font-family: monospace;
  font-size: 0.85rem;
  line-height: 1.2rem;
  padding: 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--color-log-border);
  resize: none;
  overflow: auto;
  box-sizing: border-box;
}

/* Removed prefers-color-scheme blocks; handled via variables */

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: 0.75s;
}

.logo.tauri:hover {
  filter: drop-shadow(0 0 2em #24c8db);
}

.logo.mtorrent {
  filter: drop-shadow(0 0 0 rgba(0 0 0 / 0));
  transition: filter .5s ease;
}

.logo.mtorrent:hover {
  filter: drop-shadow(0 0 1.25em var(--color-brand-mtorrent-accent));
}

.row {
  display: flex;
  justify-content: center;
}

a {
  font-weight: 500;
  color: var(--color-link);
  text-decoration: none;
}

a:hover {
  color: var(--color-link-hover);
}

h1 {
  text-align: center;
}

h2 {
  text-align: center;
}

input,
button,
select,
textarea {
  border-radius: 6px;
  border: 1px solid var(--color-input-border);
  padding: 0.55em 0.9em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  color: var(--color-input-text);
  background-color: var(--color-input-bg);
  transition: border-color 0.2s, background-color 0.2s, box-shadow 0.2s;
  box-shadow: 0 2px 2px rgba(var(--color-shadow-rgb) / 0.12);
  outline: none;
}

button {
  cursor: pointer;
  background: var(--color-btn-bg);
  color: var(--color-btn-text);
  border-color: var(--color-btn-border);
}

button:hover {
  background: var(--color-btn-bg-hover);
  border-color: var(--color-btn-border-hover);
}

button:active {
  background: var(--color-btn-bg-active);
  border-color: var(--color-input-border-active);
}

input:hover,
select:hover,
textarea:hover {
  border-color: var(--color-input-border-hover);
}

input:focus,
button:focus,
select:focus,
textarea:focus {
  border-color: var(--color-input-border-active);
  box-shadow: 0 0 0 2px rgba(57 108 216 / 35%);
}

#uri-input {
  margin-right: 5px;
}

/* Removed auto dark media query; dark explicit via [data-theme="dark"] */

/* Toast notifications */
.toast-container {
  position: fixed;
  top: 1rem;
  right: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 2000;
  pointer-events: none;
}

.toast {
  min-width: 260px;
  max-width: 360px;
  background: var(--color-toast-bg);
  color: var(--color-toast-text);
  border: 1px solid var(--color-toast-border);
  padding: 0.65rem 0.9rem;
  border-radius: 6px;
  font-size: 0.85rem;
  line-height: 1.2rem;
  box-shadow: 0 4px 12px rgba(var(--color-shadow-rgb) / 0.15);
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity .25s ease, transform .25s ease;
  pointer-events: auto;
}

.toast.show {
  opacity: 1;
  transform: translateY(0);
}

.toast.hide {
  opacity: 0;
  transform: translateY(-6px);
}

.toast-success {
  background: var(--color-toast-success-bg);
  color: var(--color-toast-success-text);
  border-color: var(--color-toast-success-border);
}

.toast-info {
  background: var(--color-toast-info-bg);
  color: var(--color-toast-info-text);
  border-color: var(--color-toast-info-border);
}

.toast-error {
  background: var(--color-toast-error-bg);
  color: var(--color-toast-error-text);
  border-color: var(--color-toast-error-border);
}

/* No separate dark media query; colors controlled by variables */

/* Custom scrollbar styling */
* {
  scrollbar-color: var(--color-scrollbar-thumb) var(--color-scrollbar-track);
}

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--color-scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--color-scrollbar-thumb);
  border-radius: 6px;
  border: 2px solid var(--color-scrollbar-track);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-scrollbar-thumb-hover);
}

/* Additional element normalizations */
code,
pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
}

pre {
  background: var(--color-log-bg);
  color: var(--color-log-text);
  padding: 0.75rem 1rem;
  border: 1px solid var(--color-log-border);
  border-radius: 6px;
  overflow: auto;
}

table {
  width: 100%;
  border-collapse: collapse;
  background: var(--color-bg-alt);
  color: var(--color-text);
}

th,
td {
  padding: 0.5rem 0.65rem;
  border: 1px solid var(--color-border);
  text-align: left;
  font-size: 0.85rem;
}

th {
  background: var(--color-bg-subtle);
  color: var(--color-text);
}

tbody tr:nth-child(even) {
  background: var(--color-bg-subtle);
}

tbody tr:hover {
  background: var(--color-bg-accent);
}

::placeholder {
  color: var(--color-text-faint);
  opacity: 1;
}

input::placeholder,
textarea::placeholder {
  color: var(--color-text-faint);
}